(this["webpackJsonpreact-skills"]=this["webpackJsonpreact-skills"]||[]).push([[0],{20:function(e,t,n){e.exports={myModal:"MyModal_myModal__3FGzl",myModalContent:"MyModal_myModalContent__3uWzA",active:"MyModal_active__CLA6D"}},32:function(e,t,n){e.exports={myBtn:"MyButton_myBtn__1rqi-"}},33:function(e,t,n){e.exports={myInput:"MyInput_myInput__1bS5J"}},34:function(e,t,n){e.exports={mySelect:"MySelect_mySelect__3dGwa"}},37:function(e,t,n){e.exports={loader:"Loader_loader__1bkL5",rotate:"Loader_rotate__23CcD"}},44:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(13),r=n.n(a),s=n(3),o=(n(44),n(16)),i=n(2),u=Object(c.createContext)(null),l=n(1),j=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"About page"}),Object(l.jsxs)("div",{className:"about-body",children:["This app using test api ",Object(l.jsx)("a",{href:"https://jsonplaceholder.typicode.com/",children:"jsonplaceholder"})," "]})]})},b=n(19),d=n(4),p=n.n(d),O=n(9),h=n(70),x=n(69),m=n(5),f=n(38),v=n(32),y=n.n(v),g=["children"],C=function(e){var t=e.children,n=Object(f.a)(e,g);return Object(l.jsx)("button",Object(m.a)(Object(m.a)({className:y.a.myBtn},n),{},{children:t}))},N=function(e){var t=Object(i.f)();return Object(l.jsxs)("div",{className:"post",children:[Object(l.jsxs)("div",{className:"post-content",children:[Object(l.jsxs)("strong",{children:[e.post.id,". ",e.post.title]}),Object(l.jsx)("div",{children:e.post.body})]}),Object(l.jsxs)("div",{className:"post-btns",children:[Object(l.jsx)(C,{onClick:function(){return t("/posts/".concat(e.post.id))},children:"Open"}),Object(l.jsx)(C,{onClick:function(){return e.remove(e.post)},children:"Delete"})]})]})},_=function(e){var t=e.posts,n=e.title,c=e.remove;e.postsLength;return t.length?Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:n}),Object(l.jsx)(h.a,{children:t.map((function(e){return Object(l.jsx)(x.a,{timeout:300,classNames:"post",children:Object(l.jsx)(N,{remove:c,post:e})},e.id)}))})]}):Object(l.jsx)("div",{className:"posts-empty",children:"Posts not found.."})},k=n(33),w=n.n(k),S=function(e){var t=Object.assign({},e);return Object(l.jsx)("input",Object(m.a)({className:w.a.myInput},t))},M=function(e){var t=e.create,n=Object(c.useState)({title:"",body:""}),a=Object(s.a)(n,2),r=a[0],o=a[1];return Object(l.jsxs)("form",{children:[Object(l.jsx)(S,{onChange:function(e){return o(Object(m.a)(Object(m.a)({},r),{},{title:e.target.value}))},value:r.title,type:"text",placeholder:"Enter title"}),Object(l.jsx)(S,{onChange:function(e){return o(Object(m.a)(Object(m.a)({},r),{},{body:e.target.value}))},value:r.body,type:"text",placeholder:"Enter text"}),Object(l.jsx)(C,{onClick:function(e){e.preventDefault();var n={id:Date.now(),title:r.title,body:r.body};t(n),o({title:"",body:""})},children:"Post"})]})},I=n(34),L=n.n(I),P=function(e){var t=e.defaultOption,n=e.options,c=e.value,a=e.onChange;return Object(l.jsxs)("select",{className:L.a.mySelect,value:c,onChange:function(e){return a(e.target.value)},children:[Object(l.jsx)("option",{disabled:!0,value:t,children:t}),n.map((function(e){return Object(l.jsx)("option",{value:e.value,children:e.name},e.value)}))]})},A=function(e){var t=e.filter,n=e.setFilter,c=e.limit,a=e.setLimit;return Object(l.jsxs)("div",{className:"post-filter-wrapper",children:[Object(l.jsx)(S,{placeholder:"Search..",value:t.query,onChange:function(e){return n(Object(m.a)(Object(m.a)({},t),{},{query:e.target.value}))}}),Object(l.jsx)(P,{onChange:function(e){return n(Object(m.a)(Object(m.a)({},t),{},{sort:e}))},value:t.sort,defaultOption:"Sort",options:[{value:"title",name:"Title"},{value:"body",name:"Description"}]}),Object(l.jsx)(P,{onChange:function(e){return a(e)},value:c,defaultOption:"Pagination step",options:[{value:5,name:"5"},{value:10,name:"10"},{value:15,name:"15"},{value:-1,name:"All"}]})]})},B=n(20),E=n.n(B),D=function(e){var t=e.children,n=e.visible,c=e.setVisible,a=[E.a.myModal];return n&&a.push(E.a.active),Object(l.jsx)("div",{className:a.join(" "),onClick:function(){return c(!1)},children:Object(l.jsx)("div",{className:E.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:t})})},q=function(e,t,n){var a=function(e,t){return Object(c.useMemo)((function(){return t?Object(b.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[t,e])}(e,t);return Object(c.useMemo)((function(){return a.filter((function(e){return e.title.toLowerCase().includes(n)}))}),[a,n])},F=n(35),J=n(36),z=n(21),G=n.n(z),T=function(){function e(){Object(F.a)(this,e)}return Object(J.a)(e,null,[{key:"getAll",value:function(){var e=Object(O.a)(p.a.mark((function e(t){var n,c,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,G.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:t,_page:n}});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPostById",value:function(){var e=Object(O.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("https://jsonplaceholder.typicode.com/posts/"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCommById",value:function(){var e=Object(O.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("https://jsonplaceholder.typicode.com/posts/".concat(t,"/comments"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),V=n(37),W=n.n(V),H=function(){return Object(l.jsx)("div",{className:W.a.loader})},K=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(""),i=Object(s.a)(o,2),u=i[0],l=i[1],j=function(){var t=Object(O.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),l(t.t0.message);case 9:return t.prev=9,r(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[j,a,u]},Q=function(e,t){return Math.ceil(e/t)},R=function(e){var t=e.totalPages,n=e.page,c=e.setPage,a=e.visible,r=void 0===a||a,s=function(e){for(var t=[],n=0;n<e;n++)t.push(n+1);return t}(t);return r?Object(l.jsx)("div",{className:"page-wrapper",children:s.map((function(e){return Object(l.jsx)("span",{className:e===n?"page page-current":"page",onClick:function(){return c(e)},children:e},e)}))}):Object(l.jsx)("div",{className:"lastElement"})};var U=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(s.a)(r,2),i=o[0],u=o[1],j=Object(c.useState)({sort:"",query:""}),d=Object(s.a)(j,2),h=d[0],x=d[1],m=q(n,h.sort,h.query),f=Object(c.useState)(0),v=Object(s.a)(f,2),y=v[0],g=v[1],N=Object(c.useState)(5),k=Object(s.a)(N,2),w=k[0],S=k[1],I=Object(c.useState)(1),L=Object(s.a)(I,2),P=L[0],B=L[1],E=K(Object(O.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getAll(w,P);case 2:t=e.sent,a(t.data),n=t.headers["x-total-count"],g(Q(n,w));case 6:case"end":return e.stop()}}),e)})))),F=Object(s.a)(E,3),J=F[0],z=F[1],G=F[2];return Object(c.useEffect)((function(){J()}),[P,w]),Object(l.jsxs)("div",{className:"Posts",children:[Object(l.jsx)(C,{onClick:function(){return u(!0)},children:"Create post"}),Object(l.jsx)(D,{visible:i,setVisible:u,children:Object(l.jsx)(M,{create:function(e){a([].concat(Object(b.a)(n),[e])),u(!1)}})}),Object(l.jsx)(A,{filter:h,setFilter:x,limit:w,setLimit:S}),G&&Object(l.jsxs)("h1",{children:["Message from backend - ",G]}),z?Object(l.jsx)("div",{className:"loader",children:Object(l.jsx)(H,{})}):Object(l.jsx)(_,{remove:function(e){a(n.filter((function(t){return t.id!==e.id})))},title:"List posts",posts:m}),Object(l.jsx)(R,{totalPages:y,page:P,setPage:B})]})},X=function(){var e=Object(i.g)(),t=Object(c.useState)({}),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)([]),u=Object(s.a)(o,2),j=u[0],b=u[1],d=K(Object(O.a)(p.a.mark((function t(){var n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.getPostById(e.id);case 2:return n=t.sent,t.next=5,T.getCommById(e.id);case 5:c=t.sent,r(n.data),b(c.data);case 8:case"end":return t.stop()}}),t)})))),h=Object(s.a)(d,3),x=h[0],m=h[1];h[2];return Object(c.useEffect)((function(){x()}),[]),Object(l.jsx)("div",{children:m?Object(l.jsx)("div",{className:"loader",children:Object(l.jsx)(H,{})}):Object(l.jsxs)("div",{className:"post-id-wrapper",children:[Object(l.jsxs)("h3",{children:[a.id,". ",a.title]}),Object(l.jsx)("div",{className:"post-id-body",children:a.body}),Object(l.jsx)("h4",{children:"Comments"}),j.map((function(e){return Object(l.jsxs)("div",{className:"comms-wrapper",children:[Object(l.jsx)("h5",{className:"comm-email",children:e.email}),Object(l.jsx)("div",{className:"comm-body",children:e.body})]},e.id)}))]})})},Y=function(){var e=Object(c.useContext)(u).setIsAuth;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Login Page"}),Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(!0),localStorage.setItem("auth","true")},children:[Object(l.jsx)(S,{type:"text",placeholder:"Enter login"}),Object(l.jsx)(S,{type:"password",placeholder:"Enter password"}),Object(l.jsx)(C,{children:"Login"})]})]})},Z=[{path:"/about",component:Object(l.jsx)(j,{}),exact:!0},{path:"/posts",component:Object(l.jsx)(U,{}),exact:!0},{path:"/posts/:id",component:Object(l.jsx)(X,{}),exact:!0},{path:"*",component:Object(l.jsx)(U,{}),exact:!0}],$=[{path:"/login",component:Object(l.jsx)(Y,{}),exact:!0},{path:"*",component:Object(l.jsx)(Y,{}),exact:!0}],ee=function(){var e=Object(c.useContext)(u),t=e.isAuth;return e.isLoading?Object(l.jsx)(H,{}):Object(l.jsx)("div",{children:Object(l.jsx)(i.c,{children:t?Z.map((function(e){return Object(l.jsx)(i.a,{path:e.path,element:e.component,exact:e.exact},e.path)})):$.map((function(e){return Object(l.jsx)(i.a,{path:e.path,element:e.component,exact:e.exact},e.path)}))})})},te=function(){var e=Object(c.useContext)(u).setIsAuth;return Object(l.jsxs)("div",{className:"navbar-wrapper",children:[Object(l.jsx)("div",{className:"logout-btn",children:Object(l.jsx)(C,{onClick:function(){e(!1),localStorage.removeItem("auth")},children:"Logout"})}),Object(l.jsxs)("div",{className:"navbar-links",children:[Object(l.jsx)(o.b,{to:"/about",children:"About"}),Object(l.jsx)(o.b,{to:"/posts",children:"Posts"})]})]})};var ne=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),i=Object(s.a)(r,2),j=i[0],b=i[1];return Object(c.useEffect)((function(){localStorage.getItem("auth")&&a(!0),b(!1)}),[]),Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(u.Provider,{value:{isAuth:n,setIsAuth:a,isLoading:j},children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(te,{}),Object(l.jsx)(ee,{})]})})})};r.a.render(Object(l.jsx)(ne,{}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.d85edad6.chunk.js.map